[gd_scene load_steps=24 format=2]

[ext_resource path="res://sprites/L3_forest/white_glow.png" type="Texture" id=1]
[ext_resource path="res://sprites/L3_forest/vignette_fade.png" type="Texture" id=2]
[ext_resource path="res://BG.tscn" type="PackedScene" id=3]
[ext_resource path="res://sprites/L3_forest/mansion/small_courtyard/mansion_small_courtyard_bg-min.png" type="Texture" id=4]
[ext_resource path="res://player/player.tscn" type="PackedScene" id=5]
[ext_resource path="res://Levels/2.0 - Forest/mansion/small_courtyard.gd" type="Script" id=6]
[ext_resource path="res://sprites/L2_lab/spotlight.png" type="Texture" id=7]
[ext_resource path="res://sprites/L3_forest/town_floor-min.png" type="Texture" id=8]
[ext_resource path="res://sprites/L3_forest/vignette.png" type="Texture" id=9]
[ext_resource path="res://Brains/SpawnPoint.tscn" type="PackedScene" id=10]
[ext_resource path="res://hitnhurtboxes/TransitionZone.tscn" type="PackedScene" id=11]
[ext_resource path="res://effects/outdoors.tscn" type="PackedScene" id=12]
[ext_resource path="res://Cameras/PuppyCamera.tscn" type="PackedScene" id=13]
[ext_resource path="res://Characters/goblins/goblinmonument/goblinmonument_flatshrub.tscn" type="PackedScene" id=14]
[ext_resource path="res://Characters/goblins/goblinmonument/goblinmonument_littleshrub.tscn" type="PackedScene" id=15]
[ext_resource path="res://Levels/2.0 - Forest/mansion/ArchDoor.tscn" type="PackedScene" id=16]
[ext_resource path="res://Characters/goblins/goblinmonument/goblinmonument_flowerbush.tscn" type="PackedScene" id=17]
[ext_resource path="res://Levels/2.0 - Forest/mansion/LionFountain.tscn" type="PackedScene" id=18]
[ext_resource path="res://Characters/goblins/goblinmonument/goblinmonument_longleaves.tscn" type="PackedScene" id=19]

[sub_resource type="RectangleShape2D" id=1]
extents = Vector2( 105.925, 49.1887 )

[sub_resource type="RectangleShape2D" id=2]
extents = Vector2( 102.439, 37.0089 )

[sub_resource type="Curve" id=3]
min_value = -200.0
max_value = 200.0
_data = [ Vector2( 0, 1 ), 0.0, 0.0, 0, 0, Vector2( 0.254717, 156.689 ), 0.0, 0.0, 0, 0, Vector2( 0.504717, -126.194 ), 0.0, 0.0, 0, 0, Vector2( 0.764151, 160.293 ), 0.0, 0.0, 0, 0, Vector2( 1, 1 ), 0.0, 0.0, 0, 0 ]

[sub_resource type="Curve" id=4]
min_value = -200.0
max_value = 200.0
_data = [ Vector2( 0, 1 ), 0.0, 0.0, 0, 0, Vector2( 0.254717, 156.689 ), 0.0, 0.0, 0, 0, Vector2( 0.504717, -126.194 ), 0.0, 0.0, 0, 0, Vector2( 0.764151, 160.293 ), 0.0, 0.0, 0, 0, Vector2( 1, 1 ), 0.0, 0.0, 0, 0 ]

[node name="small_courtyard" type="Node2D"]
script = ExtResource( 6 )

[node name="leftSP" parent="." instance=ExtResource( 10 )]
position = Vector2( 54.9928, -320.464 )

[node name="rightSP" parent="." instance=ExtResource( 10 )]
position = Vector2( 658.602, -288.376 )

[node name="CanvasLayer" type="CanvasLayer" parent="."]
layer = -50

[node name="BG" parent="CanvasLayer" instance=ExtResource( 3 )]
anchor_left = -0.00143509
anchor_right = -0.00143509
margin_left = -1431.17
margin_top = -1692.37
margin_right = 2317.83
margin_bottom = 1291.63

[node name="town_floor-min" type="Sprite" parent="."]
modulate = Color( 0.568627, 0.717647, 1, 1 )
position = Vector2( 474.15, -289.864 )
texture = ExtResource( 8 )

[node name="ParallaxBackground" type="ParallaxBackground" parent="."]
layer = -1

[node name="ParallaxLayer" type="ParallaxLayer" parent="ParallaxBackground"]
motion_scale = Vector2( 0.99, 1 )

[node name="outdoors" parent="ParallaxBackground/ParallaxLayer" instance=ExtResource( 12 )]
position = Vector2( -1420.17, -1895.82 )
scale = Vector2( 1, 1.3 )

[node name="snowy" parent="ParallaxBackground/ParallaxLayer/outdoors" index="0"]
visible = true

[node name="fall" parent="ParallaxBackground/ParallaxLayer/outdoors" index="3"]
visible = false

[node name="BG2" type="Node2D" parent="."]

[node name="ColorRect" type="ColorRect" parent="BG2"]
margin_left = -233.0
margin_top = -1391.0
margin_right = 129.0
margin_bottom = -379.0
color = Color( 0, 0, 0, 1 )
__meta__ = {
"_edit_use_anchors_": false
}

[node name="ColorRect2" type="ColorRect" parent="BG2"]
margin_left = 612.0
margin_top = -1438.0
margin_right = 974.0
margin_bottom = -355.0
color = Color( 0, 0, 0, 1 )
__meta__ = {
"_edit_use_anchors_": false
}

[node name="ColorRect3" type="ColorRect" parent="BG2"]
margin_left = 409.893
margin_top = -1264.13
margin_right = 693.893
margin_bottom = -770.131
rect_rotation = -43.7219
color = Color( 0, 0, 0, 1 )
__meta__ = {
"_edit_use_anchors_": false
}

[node name="ColorRect4" type="ColorRect" parent="BG2"]
margin_left = -266.685
margin_top = -1348.55
margin_right = 17.3148
margin_bottom = -854.545
rect_rotation = -47.6203
color = Color( 0, 0, 0, 1 )
__meta__ = {
"_edit_use_anchors_": false
}

[node name="ColorRect5" type="ColorRect" parent="BG2"]
margin_left = 124.942
margin_top = -1178.87
margin_right = 408.942
margin_bottom = -684.873
rect_rotation = -89.2323
color = Color( 0, 0, 0, 1 )
__meta__ = {
"_edit_use_anchors_": false
}

[node name="ColorRect6" type="ColorRect" parent="BG2"]
margin_left = 620.532
margin_top = -380.558
margin_right = 904.532
margin_bottom = 113.442
rect_rotation = -89.4572
color = Color( 0, 0, 0, 1 )
__meta__ = {
"_edit_use_anchors_": false
}

[node name="ColorRect7" type="ColorRect" parent="BG2"]
margin_left = 614.428
margin_top = -356.145
margin_right = 898.429
margin_bottom = 137.855
rect_rotation = -69.8312
color = Color( 0, 0, 0, 1 )
__meta__ = {
"_edit_use_anchors_": false
}

[node name="ColorRect8" type="ColorRect" parent="BG2"]
margin_left = 142.826
margin_top = -403.363
margin_right = 426.826
margin_bottom = 90.6365
rect_rotation = -112.456
rect_scale = Vector2( 1, -1 )
color = Color( 0, 0, 0, 1 )
__meta__ = {
"_edit_use_anchors_": false
}

[node name="ColorRect9" type="ColorRect" parent="BG2"]
margin_left = 136.723
margin_top = -378.95
margin_right = 420.723
margin_bottom = 115.05
rect_rotation = -92.8304
rect_scale = Vector2( 1, -1 )
color = Color( 0, 0, 0, 1 )
__meta__ = {
"_edit_use_anchors_": false
}

[node name="mansion_small_courtyard_bg-min" type="Sprite" parent="BG2"]
position = Vector2( 369.403, -773.383 )
texture = ExtResource( 4 )

[node name="flatshrub" parent="BG2" instance=ExtResource( 14 )]
position = Vector2( 263.066, -453.172 )

[node name="flatshrub2" parent="BG2" instance=ExtResource( 14 )]
position = Vector2( 521.073, -315.568 )

[node name="littleshrub" parent="BG2" instance=ExtResource( 15 )]
position = Vector2( 533.943, -429.729 )

[node name="littleshrub2" parent="BG2" instance=ExtResource( 15 )]
position = Vector2( 163.68, -371.791 )

[node name="YSort" type="YSort" parent="."]

[node name="player" parent="YSort" instance=ExtResource( 5 )]
position = Vector2( 307.638, -321.904 )
camera = NodePath("../../PuppyCamera")

[node name="ArchDoor" parent="YSort" instance=ExtResource( 16 )]
position = Vector2( 786.659, -322.053 )

[node name="ArchDoor2" parent="YSort" instance=ExtResource( 16 )]
position = Vector2( -48.909, -353.369 )
scale = Vector2( -1, 1 )

[node name="Fountain" parent="YSort" instance=ExtResource( 18 )]
position = Vector2( 356.591, -546.907 )

[node name="longleaves" parent="YSort" instance=ExtResource( 19 )]
position = Vector2( 213.833, -484.279 )

[node name="flowerbush" parent="YSort" instance=ExtResource( 17 )]
position = Vector2( 497.103, -492.961 )

[node name="PuppyCamera" parent="." instance=ExtResource( 13 )]
position = Vector2( 386.776, -422.806 )

[node name="UpperLeft" parent="PuppyCamera/Limits" index="0"]
position = Vector2( -2592.99, -2539.43 )

[node name="BottomRight" parent="PuppyCamera/Limits" index="1"]
position = Vector2( 3529.08, -89.0873 )

[node name="leftTZ" parent="." instance=ExtResource( 11 )]
position = Vector2( 786.659, -204.743 )

[node name="CollisionShape2D" parent="leftTZ" index="0"]
position = Vector2( 2.94629, -11.7848 )
shape = SubResource( 1 )

[node name="rightTZ" parent="." instance=ExtResource( 11 )]
position = Vector2( -43.0199, -225.839 )
rotation = -1.57053

[node name="CollisionShape2D" parent="rightTZ" index="0"]
position = Vector2( -5.32361, -9.50943 )
shape = SubResource( 2 )

[node name="CanvasLayer2" type="CanvasLayer" parent="."]

[node name="FG" type="Node2D" parent="."]

[node name="CPUParticles2D2" type="CPUParticles2D" parent="FG"]
modulate = Color( 1, 1, 1, 0.627451 )
position = Vector2( 79.9421, 9.29175 )
rotation = 3.14159
amount = 200
lifetime = 20.0
preprocess = 50.0
speed_scale = 0.2
texture = ExtResource( 1 )
emission_shape = 2
emission_rect_extents = Vector2( 1000, 5 )
gravity = Vector2( 0, 50 )
radial_accel = 3.45
radial_accel_random = 0.98
tangential_accel_curve = SubResource( 3 )
scale_amount = 0.1
scale_amount_random = 0.08
hue_variation = 0.38
hue_variation_random = 0.5
anim_speed_random = 0.86

[node name="CPUParticles2D" type="CPUParticles2D" parent="FG"]
modulate = Color( 1, 1, 1, 0.627451 )
position = Vector2( 1399.44, -338.503 )
amount = 200
lifetime = 20.0
preprocess = 50.0
speed_scale = 0.2
texture = ExtResource( 1 )
emission_shape = 2
emission_rect_extents = Vector2( 1000, 5 )
gravity = Vector2( 0, 50 )
radial_accel = 3.45
radial_accel_random = 0.98
tangential_accel_curve = SubResource( 4 )
scale_amount = 0.1
scale_amount_random = 0.08
hue_variation = 0.12
hue_variation_random = 0.5
anim_speed_random = 0.86

[node name="vignette_fade" type="Sprite" parent="FG"]
position = Vector2( 408.489, -180.502 )
rotation = -1.56524
scale = Vector2( 0.212405, 1.47802 )
texture = ExtResource( 2 )

[node name="vignette" type="Sprite" parent="FG"]
position = Vector2( 352.864, -684.793 )
rotation = -1.56524
scale = Vector2( 0.754152, 1.49521 )
texture = ExtResource( 9 )
__meta__ = {
"_edit_lock_": true
}

[node name="vignette_fade2" type="Sprite" parent="FG"]
position = Vector2( -46.71, -472.784 )
scale = Vector2( 0.281168, 1.01813 )
texture = ExtResource( 2 )

[node name="vignette_fade3" type="Sprite" parent="FG"]
position = Vector2( 907.453, -475.459 )
rotation = 3.14159
scale = Vector2( 0.269206, -1.018 )
texture = ExtResource( 2 )

[node name="ColorRect10" type="ColorRect" parent="FG"]
margin_left = -596.212
margin_top = -1227.97
margin_right = -234.212
margin_bottom = 134.033
color = Color( 0, 0, 0, 1 )
__meta__ = {
"_edit_use_anchors_": false
}

[node name="ColorRect11" type="ColorRect" parent="FG"]
margin_left = 1077.45
margin_top = -1168.12
margin_right = 1439.45
margin_bottom = 193.88
color = Color( 0, 0, 0, 1 )
__meta__ = {
"_edit_use_anchors_": false
}

[node name="spotlight" type="Sprite" parent="FG"]
modulate = Color( 1, 1, 1, 0.231373 )
position = Vector2( 343.945, -1067.36 )
scale = Vector2( 0.527068, 1 )
texture = ExtResource( 7 )
__meta__ = {
"_edit_lock_": true
}

[node name="Collisions" type="Node2D" parent="."]

[node name="left" type="StaticBody2D" parent="Collisions"]

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="Collisions/left"]
polygon = PoolVector2Array( -366.511, -320.259, 7.89304, -326.43, 86.7217, -379.252, 154.922, -369.076, 170.629, -452.59, 236.721, -504.314, 370.342, -528.739, 482.41, -514.372, -154.083, -765.808 )

[node name="right" type="StaticBody2D" parent="Collisions"]

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="Collisions/right"]
polygon = PoolVector2Array( 558.56, -683.911, 355.974, -528.739, 476.663, -520.119, 521.203, -482.762, 570.054, -403.74, 570.054, -354.889, 641.794, -357.895, 734.677, -290.866, 1124.4, -297.277 )

[node name="bottom" type="StaticBody2D" parent="Collisions"]

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="Collisions/bottom"]
polygon = PoolVector2Array( -371.299, -326.004, -81.3075, -271.771, 63.9407, -185.725, 229.208, -100.587, 594.8, -110.603, 776.95, -176.729, 867.899, -221.024, 817.247, -237.1, 1116.74, -303.98, 1065.74, 195.397, 157.698, 383.615, -349.484, 14.363, -349.484, 14.363 )

[connection signal="transition_triggered" from="leftTZ" to="." method="_on_leftTZ_transition_triggered"]
[connection signal="transition_triggered" from="rightTZ" to="." method="_on_rightTZ_transition_triggered"]

[editable path="ParallaxBackground/ParallaxLayer/outdoors"]
[editable path="PuppyCamera"]
[editable path="leftTZ"]
[editable path="rightTZ"]
