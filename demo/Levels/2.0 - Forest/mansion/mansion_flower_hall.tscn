[gd_scene load_steps=27 format=2]

[ext_resource path="res://sprites/L3_forest/inhabitants/goblinmonument/monumentgoblin_flowers-min.png" type="Texture" id=1]
[ext_resource path="res://sprites/L3_forest/vignette_fade.png" type="Texture" id=2]
[ext_resource path="res://BG.tscn" type="PackedScene" id=3]
[ext_resource path="res://sprites/L3_forest/bridge/bridge_tile-min.png" type="Texture" id=4]
[ext_resource path="res://player/player.tscn" type="PackedScene" id=5]
[ext_resource path="res://Levels/2.0 - Forest/mansion/mansion_flower_hall.gd" type="Script" id=6]
[ext_resource path="res://sprites/L3_forest/mansion/flower_hall/mansion_flower_hallway_window-min.png" type="Texture" id=7]
[ext_resource path="res://Levels/2.0 - Forest/mansion/mansion_red_flower.tscn" type="PackedScene" id=8]
[ext_resource path="res://Levels/2.0 - Forest/mansion/mansion_bluebell_flower.tscn" type="PackedScene" id=9]
[ext_resource path="res://Brains/SpawnPoint.tscn" type="PackedScene" id=10]
[ext_resource path="res://hitnhurtboxes/TransitionZone.tscn" type="PackedScene" id=11]
[ext_resource path="res://sprites/L3_forest/foyer/foyer_vignette_fade_white-min.png" type="Texture" id=12]
[ext_resource path="res://Cameras/PuppyCamera.tscn" type="PackedScene" id=13]
[ext_resource path="res://Levels/2.0 - Forest/mansion/mansion_trumpet_flower.tscn" type="PackedScene" id=14]
[ext_resource path="res://Levels/2.0 - Forest/mansion/mansion_pom_flower.tscn" type="PackedScene" id=15]
[ext_resource path="res://Levels/2.0 - Forest/mansion/ArchDoor.tscn" type="PackedScene" id=16]
[ext_resource path="res://sprites/L3_forest/mansion/flower_hall/mansion_flower_hallway_flower_3-min.png" type="Texture" id=17]
[ext_resource path="res://sprites/L3_forest/mansion/flower_hall/mansion_flower_hallway_flower_0-min.png" type="Texture" id=18]
[ext_resource path="res://Characters/nature/nature_sunflower.tscn" type="PackedScene" id=19]
[ext_resource path="res://Characters/goblins/goblinmonument/goblinmonument_flowerbush.tscn" type="PackedScene" id=20]
[ext_resource path="res://sprites/L3_forest/mansion/flower_hall/mansion_flower_hallway_flower_2-min.png" type="Texture" id=21]
[ext_resource path="res://sprites/L3_forest/mansion/flower_hall/mansion_flower_hallway_flower_1-min.png" type="Texture" id=22]
[ext_resource path="res://sprites/L0_train/sunflower_road/sunflower_tile.png" type="Texture" id=23]
[ext_resource path="res://sprites/L3_forest/garden/grasstile_small.png" type="Texture" id=24]

[sub_resource type="RectangleShape2D" id=1]
extents = Vector2( 97.3441, 49.1887 )

[sub_resource type="RectangleShape2D" id=2]
extents = Vector2( 102.439, 37.0089 )

[node name="flower_hall" type="Node2D"]
script = ExtResource( 6 )

[node name="leftSP" parent="." instance=ExtResource( 10 )]
position = Vector2( 54.9928, -320.464 )

[node name="rightSP" parent="." instance=ExtResource( 10 )]
position = Vector2( 658.602, -288.376 )

[node name="CanvasLayer" type="CanvasLayer" parent="."]
layer = -50

[node name="BG" parent="CanvasLayer" instance=ExtResource( 3 )]
anchor_left = -0.00143509
anchor_right = -0.00143509
margin_left = -1431.17
margin_top = -1696.03
margin_right = 2317.83
margin_bottom = 1287.97

[node name="ParallaxBackground" type="ParallaxBackground" parent="."]
layer = -1

[node name="ParallaxLayer3" type="ParallaxLayer" parent="ParallaxBackground"]

[node name="behind_bg" type="Node2D" parent="ParallaxBackground/ParallaxLayer3"]
position = Vector2( -4.96759, 1.21906 )

[node name="ColorRect" type="ColorRect" parent="ParallaxBackground/ParallaxLayer3/behind_bg"]
margin_left = 62.0104
margin_top = -955.805
margin_right = 1043.01
margin_bottom = -481.805
color = Color( 0.87451, 0.784314, 0.862745, 1 )
__meta__ = {
"_edit_use_anchors_": false
}

[node name="foyer_vignette_fade_white-min" type="Sprite" parent="ParallaxBackground/ParallaxLayer3/behind_bg"]
modulate = Color( 0.172549, 0.117647, 0.427451, 1 )
position = Vector2( 620.201, -697.009 )
rotation = -1.5708
scale = Vector2( 0.291945, 1 )
texture = ExtResource( 12 )

[node name="foyer_vignette_fade_white-min2" type="Sprite" parent="ParallaxBackground/ParallaxLayer3/behind_bg"]
modulate = Color( 0.815686, 0.333333, 0.917647, 1 )
position = Vector2( 607.587, -884.353 )
rotation = 1.5708
scale = Vector2( 0.291945, 1 )
texture = ExtResource( 12 )

[node name="TextureRect" type="TextureRect" parent="ParallaxBackground/ParallaxLayer3/behind_bg"]
margin_left = -261.065
margin_top = -683.42
margin_right = 1383.94
margin_bottom = -322.42
texture = ExtResource( 24 )
stretch_mode = 2
__meta__ = {
"_edit_use_anchors_": false
}

[node name="ParallaxLayer2" type="ParallaxLayer" parent="ParallaxBackground"]
motion_scale = Vector2( 0.9, 0.9 )

[node name="nature_sunflower" parent="ParallaxBackground/ParallaxLayer2" instance=ExtResource( 19 )]
position = Vector2( 365.866, -633.149 )

[node name="nature_sunflower2" parent="ParallaxBackground/ParallaxLayer2" instance=ExtResource( 19 )]
position = Vector2( 661.547, -608.509 )

[node name="nature_sunflower3" parent="ParallaxBackground/ParallaxLayer2" instance=ExtResource( 19 )]
position = Vector2( 839.778, -612.606 )

[node name="nature_sunflower4" parent="ParallaxBackground/ParallaxLayer2" instance=ExtResource( 19 )]
position = Vector2( 690.911, -618.069 )

[node name="nature_sunflower5" parent="ParallaxBackground/ParallaxLayer2" instance=ExtResource( 19 )]
position = Vector2( 236.115, -612.606 )

[node name="flowerbush" parent="ParallaxBackground/ParallaxLayer2" instance=ExtResource( 20 )]
position = Vector2( 292.972, -593.109 )

[node name="flowerbush3" parent="ParallaxBackground/ParallaxLayer2" instance=ExtResource( 20 )]
position = Vector2( 180.98, -578.769 )

[node name="flowerbush4" parent="ParallaxBackground/ParallaxLayer2" instance=ExtResource( 20 )]
position = Vector2( 615.29, -586.28 )

[node name="flowerbush2" parent="ParallaxBackground/ParallaxLayer2" instance=ExtResource( 20 )]
position = Vector2( 727.255, -617.749 )

[node name="mansion_flower_hallway_flower_3-min" type="Sprite" parent="ParallaxBackground/ParallaxLayer2"]
position = Vector2( 239.738, -713.625 )
texture = ExtResource( 17 )

[node name="mansion_flower_hallway_flower_2-min" type="Sprite" parent="ParallaxBackground/ParallaxLayer2"]
position = Vector2( 810.623, -708.845 )
texture = ExtResource( 21 )

[node name="mansion_flower_hallway_flower_1-min" type="Sprite" parent="ParallaxBackground/ParallaxLayer2"]
position = Vector2( 464.405, -683.578 )
texture = ExtResource( 22 )

[node name="mansion_flower_hallway_flower_0-min" type="Sprite" parent="ParallaxBackground/ParallaxLayer2"]
position = Vector2( 548.399, -702.699 )
texture = ExtResource( 18 )

[node name="mansion_flower_hallway_flower_0-min2" type="Sprite" parent="ParallaxBackground/ParallaxLayer2"]
position = Vector2( 137.989, -717.722 )
texture = ExtResource( 18 )

[node name="mansion_flower_hallway_flower_2-min2" type="Sprite" parent="ParallaxBackground/ParallaxLayer2"]
position = Vector2( 202.863, -719.088 )
texture = ExtResource( 21 )

[node name="mansion_flower_hallway_flower_1-min2" type="Sprite" parent="ParallaxBackground/ParallaxLayer2"]
position = Vector2( 84.0421, -696.553 )
texture = ExtResource( 22 )

[node name="mansion_flower_hallway_flower_3-min2" type="Sprite" parent="ParallaxBackground/ParallaxLayer2"]
position = Vector2( 855.693, -708.162 )
texture = ExtResource( 17 )

[node name="mansion_flower_hallway_flower_0-min3" type="Sprite" parent="ParallaxBackground/ParallaxLayer2"]
position = Vector2( 540.204, -696.553 )
texture = ExtResource( 18 )

[node name="mansion_flower_hallway_flower_1-min3" type="Sprite" parent="ParallaxBackground/ParallaxLayer2"]
position = Vector2( 931.493, -670.604 )
texture = ExtResource( 22 )

[node name="ParallaxLayer" type="ParallaxLayer" parent="ParallaxBackground"]
motion_scale = Vector2( 0.95, 0.95 )

[node name="redflower" parent="ParallaxBackground/ParallaxLayer" instance=ExtResource( 8 )]
position = Vector2( 204.506, -595.25 )

[node name="redflower2" parent="ParallaxBackground/ParallaxLayer" instance=ExtResource( 8 )]
position = Vector2( 782.22, -581.592 )

[node name="redflower3" parent="ParallaxBackground/ParallaxLayer" instance=ExtResource( 8 )]
position = Vector2( 367.031, -577.495 )

[node name="trumpetflower" parent="ParallaxBackground/ParallaxLayer" instance=ExtResource( 14 )]
position = Vector2( 723.307, -528.36 )

[node name="trumpetflower2" parent="ParallaxBackground/ParallaxLayer" instance=ExtResource( 14 )]
position = Vector2( 269.194, -546.115 )

[node name="trumpetflower3" parent="ParallaxBackground/ParallaxLayer" instance=ExtResource( 14 )]
position = Vector2( 447.425, -554.992 )

[node name="trumpetflower4" parent="ParallaxBackground/ParallaxLayer" instance=ExtResource( 14 )]
position = Vector2( 605.852, -542.701 )

[node name="pomflower" parent="ParallaxBackground/ParallaxLayer" instance=ExtResource( 15 )]
position = Vector2( 831.475, -588.04 )

[node name="pomflower2" parent="ParallaxBackground/ParallaxLayer" instance=ExtResource( 15 )]
position = Vector2( 298.148, -609.209 )

[node name="bluebell2" parent="ParallaxBackground/ParallaxLayer" instance=ExtResource( 9 )]
position = Vector2( 353.636, -585.996 )

[node name="bluebell3" parent="ParallaxBackground/ParallaxLayer" instance=ExtResource( 9 )]
position = Vector2( 731.267, -599.653 )

[node name="ParallaxLayer4" type="ParallaxLayer" parent="ParallaxBackground"]
motion_scale = Vector2( 0.99, 0.99 )

[node name="sunflower_tile" type="Sprite" parent="ParallaxBackground/ParallaxLayer4"]
position = Vector2( 387.923, -592.073 )
texture = ExtResource( 23 )

[node name="monumentgoblin_flowers-min" type="Sprite" parent="ParallaxBackground"]
position = Vector2( 564.043, -584.972 )
texture = ExtResource( 1 )

[node name="mansion_flower_hallway_flower_2-min" type="Sprite" parent="ParallaxBackground"]
position = Vector2( 697.236, -588.19 )
texture = ExtResource( 21 )

[node name="mansion_flower_hallway_flower_3-min" type="Sprite" parent="ParallaxBackground"]
position = Vector2( 715.253, -592.05 )
texture = ExtResource( 17 )

[node name="mansion_flower_hallway_flower_0-min" type="Sprite" parent="ParallaxBackground"]
position = Vector2( 787.319, -593.337 )
texture = ExtResource( 18 )

[node name="BG" type="Node2D" parent="."]

[node name="ColorRect" type="ColorRect" parent="BG"]
margin_left = -622.0
margin_top = -282.0
margin_right = 1667.0
margin_bottom = 565.0
color = Color( 0, 0, 0, 1 )
__meta__ = {
"_edit_use_anchors_": false
}

[node name="ColorRect2" type="ColorRect" parent="BG"]
margin_left = 908.469
margin_top = -1102.38
margin_right = 1611.47
margin_bottom = -385.38
color = Color( 0, 0, 0, 1 )
__meta__ = {
"_edit_use_anchors_": false
}

[node name="ColorRect3" type="ColorRect" parent="BG"]
margin_left = -576.419
margin_top = -1103.24
margin_right = 126.581
margin_bottom = -386.242
color = Color( 0, 0, 0, 1 )
__meta__ = {
"_edit_use_anchors_": false
}

[node name="ColorRect4" type="ColorRect" parent="BG"]
margin_left = -534.302
margin_top = -1660.45
margin_right = 1633.7
margin_bottom = -943.45
color = Color( 0, 0, 0, 1 )
__meta__ = {
"_edit_use_anchors_": false
}

[node name="ColorRect8" type="ColorRect" parent="BG"]
margin_left = 202.904
margin_top = -1080.37
margin_right = 329.904
margin_bottom = -700.372
rect_rotation = 35.0968
color = Color( 0, 0, 0, 1 )
__meta__ = {
"_edit_use_anchors_": false
}

[node name="ColorRect12" type="ColorRect" parent="BG"]
margin_left = 1002.51
margin_top = -1192.66
margin_right = 1282.51
margin_bottom = -856.656
rect_rotation = 48.5197
color = Color( 0, 0, 0, 1 )
__meta__ = {
"_edit_use_anchors_": false
}

[node name="windows" type="Node2D" parent="BG"]
modulate = Color( 0.533333, 0.596078, 1, 1 )

[node name="ColorRect5" type="ColorRect" parent="BG/windows"]
margin_left = 897.0
margin_top = -1026.0
margin_right = 1065.0
margin_bottom = -425.0
color = Color( 0, 0, 0, 1 )
__meta__ = {
"_edit_use_anchors_": false
}

[node name="ColorRect9" type="ColorRect" parent="BG/windows"]
margin_left = 1118.23
margin_top = -1393.15
margin_right = 1516.23
margin_bottom = -849.154
rect_rotation = 48.5197
color = Color( 0, 0, 0, 1 )
__meta__ = {
"_edit_use_anchors_": false
}

[node name="ColorRect6" type="ColorRect" parent="BG/windows"]
margin_left = 429.0
margin_top = -989.0
margin_right = 597.0
margin_bottom = -414.0
color = Color( 0, 0, 0, 1 )
__meta__ = {
"_edit_use_anchors_": false
}

[node name="ColorRect10" type="ColorRect" parent="BG/windows"]
margin_left = 650.592
margin_top = -1356.23
margin_right = 1048.59
margin_bottom = -812.235
rect_rotation = 48.5197
color = Color( 0, 0, 0, 1 )
__meta__ = {
"_edit_use_anchors_": false
}

[node name="TextureRect2" type="TextureRect" parent="BG/windows"]
modulate = Color( 0.698039, 0.709804, 0.729412, 1 )
margin_left = -646.16
margin_top = -444.294
margin_right = 1771.84
margin_bottom = -185.294
texture = ExtResource( 4 )
stretch_mode = 2
__meta__ = {
"_edit_use_anchors_": false
}

[node name="mansion_flower_hallway_window-min4" type="Sprite" parent="BG/windows"]
position = Vector2( 739.472, -675.685 )
texture = ExtResource( 7 )

[node name="mansion_flower_hallway_window-min3" type="Sprite" parent="BG/windows"]
position = Vector2( 277.656, -679.026 )
texture = ExtResource( 7 )

[node name="LEFT" type="Node2D" parent="BG"]

[node name="vignette_fade" type="Sprite" parent="BG/LEFT"]
position = Vector2( -236.954, -564.214 )
scale = Vector2( 0.208255, 1.01695 )
texture = ExtResource( 2 )

[node name="vignette_fade2" type="Sprite" parent="BG/LEFT"]
position = Vector2( -361.976, -199.775 )
rotation = 0.882452
scale = Vector2( 0.208255, 0.527601 )
texture = ExtResource( 2 )

[node name="RIGHT" type="Node2D" parent="BG"]
position = Vector2( 1053.51, 98.11 )
rotation = 3.14159
scale = Vector2( 1, -1 )

[node name="vignette_fade" type="Sprite" parent="BG/RIGHT"]
position = Vector2( -236.954, -565.878 )
scale = Vector2( 0.208255, 1.01695 )
texture = ExtResource( 2 )

[node name="vignette_fade2" type="Sprite" parent="BG/RIGHT"]
position = Vector2( -451.093, -171.711 )
rotation = 0.882452
scale = Vector2( 0.208255, 0.65719 )
texture = ExtResource( 2 )

[node name="YSort" type="YSort" parent="."]

[node name="player" parent="YSort" instance=ExtResource( 5 )]
position = Vector2( 307.638, -321.904 )
MAX_SPEED = 300
camera = NodePath("../../PuppyCamera")

[node name="doors" type="YSort" parent="YSort"]
modulate = Color( 0.501961, 0.498039, 0.807843, 1 )

[node name="ArchDoor" parent="YSort/doors" instance=ExtResource( 16 )]
position = Vector2( 1166.83, -354.446 )

[node name="ArchDoor2" parent="YSort/doors" instance=ExtResource( 16 )]
position = Vector2( -162.605, -369.227 )
rotation = 3.14159
scale = Vector2( 1, -1 )

[node name="PuppyCamera" parent="." instance=ExtResource( 13 )]
position = Vector2( 386.776, -422.806 )

[node name="UpperLeft" parent="PuppyCamera/Limits" index="0"]
position = Vector2( -1665.99, -2668.78 )

[node name="BottomRight" parent="PuppyCamera/Limits" index="1"]
position = Vector2( 3529.08, -34.8173 )

[node name="leftTZ" parent="." instance=ExtResource( 11 )]
position = Vector2( 786.659, -204.743 )

[node name="CollisionShape2D" parent="leftTZ" index="0"]
position = Vector2( 573.07, -167.703 )
shape = SubResource( 1 )

[node name="rightTZ" parent="." instance=ExtResource( 11 )]
position = Vector2( -43.0199, -225.839 )
rotation = -1.57053

[node name="CollisionShape2D" parent="rightTZ" index="0"]
position = Vector2( 121.285, -268.113 )
shape = SubResource( 2 )

[node name="CanvasLayer2" type="CanvasLayer" parent="."]

[node name="FG" type="Node2D" parent="."]

[node name="vignette_fade" type="Sprite" parent="FG"]
position = Vector2( 575.146, -183.902 )
rotation = -1.5708
scale = Vector2( 0.0525743, 1.48623 )
texture = ExtResource( 2 )

[node name="ColorRect10" type="ColorRect" parent="FG"]
margin_left = -1084.0
margin_top = -1228.0
margin_right = -339.0
margin_bottom = 134.0
color = Color( 0, 0, 0, 1 )
__meta__ = {
"_edit_lock_": true,
"_edit_use_anchors_": false
}

[node name="ColorRect11" type="ColorRect" parent="FG"]
margin_left = 1288.0
margin_top = -1138.0
margin_right = 1848.0
margin_bottom = 224.0
color = Color( 0, 0, 0, 1 )
__meta__ = {
"_edit_lock_": true,
"_edit_use_anchors_": false
}

[node name="Collisions" type="Node2D" parent="."]

[node name="left" type="StaticBody2D" parent="Collisions"]

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="Collisions/left"]
position = Vector2( 0, -0.428955 )
polygon = PoolVector2Array( -473.999, -354.604, -80.1091, -353.114, -85.7354, -445.292, 88.4259, -444.434, 87.1044, -393.204, 167.586, -392.886, 166.836, -407.362, 387.403, -405.126, 393.364, -392.458, 464.155, -391.713, 469.951, -445.121, 635.532, -448.982, -154.083, -765.808 )

[node name="right" type="StaticBody2D" parent="Collisions"]

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="Collisions/right"]
polygon = PoolVector2Array( 558.56, -683.911, 550.444, -386.499, 629.554, -385.365, 629.554, -402.738, 851.488, -399.911, 851.488, -384.263, 928.346, -386.351, 931.778, -445.549, 1090.07, -445.12, 1089.94, -332.847, 1516.17, -327.929 )

[node name="bottom" type="StaticBody2D" parent="Collisions"]

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="Collisions/bottom"]
position = Vector2( -0.745148, 0 )
polygon = PoolVector2Array( -507.531, -382.027, -219.006, -277.705, -116.174, -180.835, 1067.58, -190.522, 1494.56, -382.773, 1065.74, 195.397, 157.698, 383.615, -349.484, 14.363, -349.484, 14.363 )

[connection signal="transition_triggered" from="leftTZ" to="." method="_on_leftTZ_transition_triggered"]
[connection signal="transition_triggered" from="rightTZ" to="." method="_on_rightTZ_transition_triggered"]

[editable path="PuppyCamera"]
[editable path="leftTZ"]
[editable path="rightTZ"]
